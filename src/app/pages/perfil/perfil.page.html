<ion-header [translucent]="true">
  <ion-toolbar color="secondary">
    <ion-buttons *ngIf='!onlyView' slot="start" (click)="cambiarEstadoDeVista()">
      <ion-back-button defaultHref="perfil"></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-menu-button color="light"></ion-menu-button>
    </ion-buttons>
    <ion-title class="large-title"> Perfil </ion-title>
  </ion-toolbar>
</ion-header>

<!-- <ion-content>

</ion-content> -->
<ion-content class="common-bg">
  <!-- User settings-->
  <ion-item-group>
    <ion-item-divider color="secondary" class="bold">
      <ion-label style="font-size: large;">Información del usuario </ion-label>
      </ion-item-divider>
    <ion-item>
      <ion-label><strong>Nombre:</strong> </ion-label>
      <ion-input 
            placeholder="nombre" 
            type="text" 
            [(ngModel)]="usuario.nombre" 
            required
            [disabled]="onlyView"
            (ionChange)="handlerChange($event)"
            >
      </ion-input>
    </ion-item>
    <p *ngIf="errorRegistro?.nombre" class="p-error">{{errorRegistro?.nombre}}</p>

    <ion-item>
      <ion-label><strong>Apellido: </strong></ion-label>
      <ion-input 
            placeholder="apellido" 
            type="text" 
            [(ngModel)]="usuario.apellido" 
            required
            [disabled]="onlyView"
            (ionChange)="handlerChange($event)"
            >
            </ion-input>

    </ion-item>
    <p *ngIf="errorRegistro?.apellido" class="p-error">{{errorRegistro?.apellido}}</p>

    <ion-item>
      <ion-label><strong>Email: </strong></ion-label>
      <ion-input 
            placeholder="email" 
            type="text" 
            [(ngModel)]="usuario.email" 
            required
            [disabled]="onlyView"
            (ionChange)="handlerChange($event)"
            >
            </ion-input>
    </ion-item>
    <p *ngIf="errorRegistro?.email" class="p-error">{{errorRegistro?.email}}</p>

    <ion-item>
      <ion-label><strong>Contraseña: </strong></ion-label>
      <ion-input 
            placeholder="contraseña" 
            type="password" 
            [(ngModel)]="usuario.password" 
            required
            [disabled]="onlyView"
            (ionChange)="handlerChange($event)"
            >
            </ion-input>

    </ion-item>
    <p *ngIf="errorRegistro?.password && !onlyView" class="p-error">{{errorRegistro?.password}}</p>

    <ion-item>
      <ion-label><strong>Alias: </strong></ion-label>
      <ion-input 
            placeholder="username" 
            type="text" 
            [(ngModel)]="usuario.username" 
            required
            [disabled]="onlyView"
            (ionChange)="handlerChange($event)"
            >
      </ion-input>
    </ion-item>
    <p *ngIf="errorRegistro?.username" class="p-error">{{errorRegistro?.username}}</p>

  </ion-item-group>


  <ion-fab *ngIf='onlyView'vertical="bottom" horizontal="start" slot="fixed">
    <ion-fab-button  color="warning" (click)="editarPerfil()">
      <ion-icon name="create-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  <ion-fab *ngIf='!onlyView'vertical="bottom" horizontal="start" slot="fixed">
    <ion-fab-button color="warning" (click)="guardarPerfil()">
        <ion-icon name="save-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  <!--sign out button-->
  <!-- <button ion-button color="primary" class="perfil-loguot" full tappable (click)="logout()">LOG OUT</button> -->
</ion-content>
